(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{479:function(a,s,t){"use strict";t.r(s);var n=t(56),r=Object(n.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"qgis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#qgis"}},[a._v("#")]),a._v(" QGis")]),a._v(" "),t("p",[a._v("编译时出现"),t("strong",[a._v("无法解析的外部符号")]),a._v("，是由于引用库的版本不对，比如引用库是release版本，编译也要用release模式编译")]),a._v(" "),t("p",[a._v("矢量层")]),a._v(" "),t("p",[a._v(".shp .geojson .gmt .kml")]),a._v(" "),t("p",[a._v("栅格层")]),a._v(" "),t("p",[a._v(".tif .img .grd. .hgt")]),a._v(" "),t("h3",{attrs:{id:"添加库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加库"}},[a._v("#")]),a._v(" 添加库")]),a._v(" "),t("div",{staticClass:"language-apl extra-class"},[t("pre",{pre:!0,attrs:{class:"language-apl"}},[t("code",[t("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[a._v("/")]),t("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[a._v("/")]),a._v("动态库需要三个文件：头文件、导入库、动态库，使用动态库时先在头文件中找到声明，再在导入库中定位函数主体位置，拿到地址后再在动态库中找到函数，exe文件运行时需要到系统变量中找动态库，所以要放到同一文件夹或设置系统变量\nwin32"),t("span",{pre:!0,attrs:{class:"token dfn builtin"}},[a._v("{")]),a._v("\n    INCLUDEPATH "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("+")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[a._v("/")]),a._v("qgis"),t("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[a._v("/")]),a._v("include\n    LIBS "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("+")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("-")]),a._v("L"),t("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[a._v("/")]),a._v("qgis"),t("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[a._v("/")]),a._v("lib\n    CONFIG"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("release"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v(",")]),a._v(" debug"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("|")]),a._v("release"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token dfn builtin"}},[a._v("{")]),a._v("\n        LIBS "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("+")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("=")]),a._v(" qgis_3d"),t("span",{pre:!0,attrs:{class:"token dyadic-operator operator"}},[a._v(".")]),a._v("lib\n        LIBS "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("+")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("=")]),a._v(" qgis_analysis"),t("span",{pre:!0,attrs:{class:"token dyadic-operator operator"}},[a._v(".")]),a._v("lib\n        LIBS "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("+")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("=")]),a._v(" qgis_app"),t("span",{pre:!0,attrs:{class:"token dyadic-operator operator"}},[a._v(".")]),a._v("lib\n        LIBS "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("+")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("=")]),a._v(" qgis_core"),t("span",{pre:!0,attrs:{class:"token dyadic-operator operator"}},[a._v(".")]),a._v("lib\n        LIBS "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("+")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("=")]),a._v(" qgis_gui"),t("span",{pre:!0,attrs:{class:"token dyadic-operator operator"}},[a._v(".")]),a._v("lib\n        LIBS "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("+")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("=")]),a._v(" qgis_native"),t("span",{pre:!0,attrs:{class:"token dyadic-operator operator"}},[a._v(".")]),a._v("lib\n        qgis "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("+")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("=")]),a._v(" qgis_server"),t("span",{pre:!0,attrs:{class:"token dyadic-operator operator"}},[a._v(".")]),a._v("lib\n    "),t("span",{pre:!0,attrs:{class:"token dfn builtin"}},[a._v("}")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token dfn builtin"}},[a._v("}")]),a._v("\n")])])]),t("h3",{attrs:{id:"加载图层文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#加载图层文件"}},[a._v("#")]),a._v(" 加载图层文件")]),a._v(" "),t("div",{staticClass:"language-c++ extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("//初始化QgsMapCanvas\nmMapCanvas = new QgsMapCanvas(this);\n//初始化QgsRasterLayer\nmQgsRasterLayer = new QgsRasterLayer(uri, baseName, providerType, QgsRasterLayer::LayerOptions);\n//定义图层列表\nQList<QgsMapLayer*> layers = {mQgsRasterLayer};\nQgsProject::instance() -> addMapLayer(mQgsRasterLayer);\n//设置QgsMapCanvas图层\nmMapCanvas -> setExtent(mQgsRasterLayer.extent());\nmMapCanvas -> setLayers(layers);\nmMapCanvas -> refresh();\n")])])]),t("h3",{attrs:{id:"qgsmaptool"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#qgsmaptool"}},[a._v("#")]),a._v(" QgsMapTool")]),a._v(" "),t("ul",[t("li",[a._v("QgsMapToolEmitPoint点击地图时发出canvasClicked信号")]),a._v(" "),t("li",[a._v("QgsRubberBand临时图形")]),a._v(" "),t("li",[a._v("QgsAnnotationLayer注释图层")])])])}),[],!1,null,null,null);s.default=r.exports}}]);